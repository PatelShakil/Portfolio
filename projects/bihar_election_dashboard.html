<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bihar Election Results 2025 - Live Dashboard</title>
    <meta name="description" content="Bihar Election Results 2025 Live Dashboard - Real-time updates of all 243 constituencies, party-wise analysis, NDA vs INDIA alliance performance with interactive charts. Auto-refresh every 2 minutes.">

<meta name="keywords" content="Bihar Election Results 2025, Bihar Assembly Election, Bihar Chunav Results, NDA Alliance, INDIA Bloc, JD(U), BJP, RJD, INC, Nitish Kumar, Tejashwi Yadav, Live Election Updates, Constituency Results, Bihar Vidhan Sabha">

<meta name="author" content="MuhammadShakil Patel">
<meta name="robots" content="index, follow">
<meta name="language" content="English, Hindi">
<meta name="revisit-after" content="1 hour">

<!-- Open Graph Tags for Social Media -->
<meta property="og:title" content="Bihar Election Results 2025 - Live Dashboard">
<meta property="og:description" content="Track Bihar Assembly Election 2025 results live with real-time updates, party-wise analysis, and constituency-wise results.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://patelshakil.tech/bihar-election-dashboard.html">
<meta property="og:image" content="https://patelshakil.tech/bihar-election-preview.jpg">

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Bihar Election Results 2025 - Live Dashboard">
<meta name="twitter:description" content="Real-time Bihar Assembly Election 2025 results with interactive charts and analysis">
<meta name="twitter:image" content="https://patelshakil.tech/bihar-election-preview.jpg">

<!-- Structured Data for Rich Snippets -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Bihar Election Results 2025 Dashboard",
  "description": "Live election results dashboard for Bihar Assembly Elections 2025",
  "url": "https://yourwebsite.com",
  "applicationCategory": "Political Information",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "INR"
  }
}
</script>


    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Alpine.js for reactive data -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>

    <style>
        @keyframes pulse-slow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .live-indicator {
            animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body class="bg-gray-50" x-data="electionDashboard()">

    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-bold">Bihar Election Results 2025</h1>
                    <p class="text-sm text-blue-100 mt-1">Live Assembly Constituency Results</p>
                </div>
                <div class="flex items-center gap-4">
                    <div class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg">
                        <div class="w-3 h-3 bg-red-500 rounded-full live-indicator"></div>
                        <span class="text-sm font-semibold">LIVE</span>
                    </div>
                    <div class="bg-white/10 px-4 py-2 rounded-lg">
                        <p class="text-xs text-blue-100">Last Updated</p>
                        <p class="text-sm font-semibold" x-text="lastUpdated"></p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Auto Refresh Control -->
    <div class="bg-white border-b border-gray-200 shadow-sm">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <label class="text-sm font-medium text-gray-700">Auto Refresh:</label>
                    <select x-model="refreshInterval" @change="updateRefreshInterval()" 
                            class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="0">Disabled</option>
                        <option value="60">1 minute</option>
                        <option value="120">2 minutes</option>
                        <option value="180">3 minutes</option>
                        <option value="240">4 minutes</option>
                        <option value="300">5 minutes</option>
                        <option value="360">6 minutes</option>
                        <option value="420">7 minutes</option>
                    </select>
                    <template x-if="refreshInterval > 0">
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <svg class="animate-spin h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            <span>Next refresh in <span x-text="countdown"></span>s</span>
                        </div>
                    </template>
                </div>
                <button @click="loadData()" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition">
                    Refresh Now
                </button>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 py-6">

        <!-- Loading State -->
        <div x-show="loading" class="flex items-center justify-center py-20">
            <div class="text-center">
                <svg class="animate-spin h-12 w-12 text-blue-600 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <p class="mt-4 text-gray-600">Loading election data...</p>
            </div>
        </div>

        <!-- Main Content -->
        <div x-show="!loading">

            <!-- Key Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500 text-sm font-medium">Total Seats</p>
                            <p class="text-3xl font-bold text-gray-800 mt-2" x-text="stats.totalSeats"></p>
                        </div>
                        <div class="bg-blue-100 p-3 rounded-full">
                            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-green-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500 text-sm font-medium">Total Candidates</p>
                            <p class="text-3xl font-bold text-gray-800 mt-2" x-text="stats.totalCandidates"></p>
                        </div>
                        <div class="bg-green-100 p-3 rounded-full">
                            <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-purple-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500 text-sm font-medium">Total Parties</p>
                            <p class="text-3xl font-bold text-gray-800 mt-2" x-text="stats.totalParties"></p>
                        </div>
                        <div class="bg-purple-100 p-3 rounded-full">
                            <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-orange-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500 text-sm font-medium">Declared Results</p>
                            <p class="text-3xl font-bold text-gray-800 mt-2" x-text="stats.declaredSeats"></p>
                            <p class="text-xs text-gray-500 mt-1" x-text="`(${stats.declaredPercentage}%)`"></p>
                        </div>
                        <div class="bg-orange-100 p-3 rounded-full">
                            <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">

                <!-- Party-wise Seat Distribution -->
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">Party-wise Seat Distribution</h2>
                    <div class="h-80">
                        <canvas id="partySeatsChart"></canvas>
                    </div>
                </div>

                <!-- Party-wise Candidate Distribution -->
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">Party-wise Candidate Count</h2>
                    <div class="h-80">
                        <canvas id="partyCandidatesChart"></canvas>
                    </div>
                </div>

            </div>

            <!-- Alliance Analysis -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-8">
                <h2 class="text-xl font-bold text-gray-800 mb-4">Alliance-wise Analysis</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="text-center p-4 bg-orange-50 rounded-lg border-2 border-orange-200">
                        <p class="text-sm font-medium text-gray-600 mb-2">NDA Alliance</p>
                        <p class="text-4xl font-bold text-orange-600 mb-1" x-text="alliances.nda.seats"></p>
                        <p class="text-xs text-gray-500" x-text="`${alliances.nda.candidates} candidates`"></p>
                        <div class="mt-3 text-xs text-gray-600">
                            <p x-text="`BJP: ${alliances.nda.parties.BJP || 0}, JD(U): ${alliances.nda.parties['JD(U)'] || 0}`"></p>
                            <p x-text="`LJPRV: ${alliances.nda.parties.LJPRV || 0}`"></p>
                        </div>
                    </div>
                    <div class="text-center p-4 bg-blue-50 rounded-lg border-2 border-blue-200">
                        <p class="text-sm font-medium text-gray-600 mb-2">INDIA Alliance</p>
                        <p class="text-4xl font-bold text-blue-600 mb-1" x-text="alliances.india.seats"></p>
                        <p class="text-xs text-gray-500" x-text="`${alliances.india.candidates} candidates`"></p>
                        <div class="mt-3 text-xs text-gray-600">
                            <p x-text="`RJD: ${alliances.india.parties.RJD || 0}, INC: ${alliances.india.parties.INC || 0}`"></p>
                            <p x-text="`CPI(ML)(L): ${alliances.india.parties['CPI(ML)(L)'] || 0}`"></p>
                        </div>
                    </div>
                    <div class="text-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200">
                        <p class="text-sm font-medium text-gray-600 mb-2">Others</p>
                        <p class="text-4xl font-bold text-gray-600 mb-1" x-text="alliances.others.seats"></p>
                        <p class="text-xs text-gray-500" x-text="`${alliances.others.candidates} candidates`"></p>
                        <div class="mt-3 text-xs text-gray-600">
                            <p>Independent & Regional Parties</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Parties Table -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-8">
                <h2 class="text-xl font-bold text-gray-800 mb-4">Top Parties Performance</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rank</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Party</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Seats</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Candidates</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Success Rate</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Visual</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <template x-for="(party, index) in topParties" :key="index">
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900" x-text="index + 1"></td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="w-3 h-3 rounded-full mr-2" :style="`background-color: ${party.color}`"></div>
                                            <span class="text-sm font-medium text-gray-900" x-text="party.party"></span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900" x-text="party.seats"></td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" x-text="party.candidates"></td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" x-text="party.successRate + '%'"></td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="h-2 rounded-full" :style="`width: ${party.successRate}%; background-color: ${party.color}`"></div>
                                        </div>
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Constituency-wise Results -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold text-gray-800">Constituency-wise Results</h2>
                    <div class="flex gap-2">
                        <input type="text" x-model="searchQuery" @input="filterConstituencies()" 
                               placeholder="Search constituency or candidate..." 
                               class="px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <select x-model="filterParty" @change="filterConstituencies()" 
                                class="px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="">All Parties</option>
                            <template x-for="party in Object.keys(partyData).sort()" :key="party">
                                <option x-text="party" :value="party"></option>
                            </template>
                        </select>
                    </div>
                </div>
                <div class="overflow-x-auto max-h-96 overflow-y-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50 sticky top-0">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Constituency</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Candidate</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Party</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <template x-for="(constituency, index) in filteredConstituencies" :key="index">
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900" x-text="'S04-' + constituency.id"></td>
                                    <td class="px-6 py-4 text-sm text-gray-900" x-text="constituency.candidate"></td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full" 
                                              :style="`background-color: ${constituency.color}20; color: ${constituency.color}`"
                                              x-text="constituency.party"></span>
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>
                <div class="mt-4 text-sm text-gray-500 text-center" x-show="filteredConstituencies.length === 0">
                    No results found matching your criteria.
                </div>
            </div>

        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-12 py-6">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm">Bihar Election Results 2025 Dashboard | Data Source: Election Commission of India</p>
            <p class="text-xs text-gray-400 mt-2">Developed by <a target="_blank" class="text-blue-500 hover:underline" href="https://patelshakil.tech">MuhammadShakil Patel</a></p>
        </div>
    </footer>

    <script>
        function electionDashboard() {
            return {
                loading: true,
                rawData: null,
                partyData: {},
                constituencies: [],
                filteredConstituencies: [],
                searchQuery: '',
                filterParty: '',
                stats: {
                    totalSeats: 0,
                    totalCandidates: 0,
                    totalParties: 0,
                    declaredSeats: 0,
                    declaredPercentage: 0
                },
                alliances: {
                    nda: { seats: 0, candidates: 0, parties: {} },
                    india: { seats: 0, candidates: 0, parties: {} },
                    others: { seats: 0, candidates: 0, parties: {} }
                },
                topParties: [],
                lastUpdated: '',
                refreshInterval: 120, // Default 2 minutes
                countdown: 120,
                intervalId: null,
                countdownId: null,
                partySeatsChart: null,
                partyCandidatesChart: null,

                init() {
                    this.loadData();
                    this.updateRefreshInterval();
                },

                async loadData() {
                    this.loading = true;
                    try {
                        const response = await fetch('https://results.eci.gov.in/ResultAcGenNov2025/election-json-S04-live.json');
                        this.rawData = await response.json();
                        this.processData();
                        this.updateCharts();
                        this.lastUpdated = new Date().toLocaleTimeString('en-IN', { 
                            hour: '2-digit', 
                            minute: '2-digit',
                            second: '2-digit'
                        });
                    } catch (error) {
                        console.error('Error loading data:', error);
                        alert('Failed to load election data. Please try again.');
                    } finally {
                        this.loading = false;
                    }
                },

                processData() {
                    if (!this.rawData || !this.rawData.S04) return;

                    const chartData = this.rawData.S04.chartData;
                    const tableData = this.rawData.S04.tableData;

                    // Reset data
                    this.partyData = {};
                    this.constituencies = [];

                    // Process chart data
                    chartData.forEach(item => {
                        const [party, state, id, candidate, color] = item;

                        if (!this.partyData[party]) {
                            this.partyData[party] = {
                                party: party,
                                seats: 0,
                                candidates: 0,
                                color: color,
                                successRate: 0
                            };
                        }

                        this.partyData[party].candidates++;

                        if (candidate !== 'NA') {
                            this.constituencies.push({
                                id: id,
                                party: party,
                                candidate: candidate,
                                color: color
                            });
                        }
                    });

                    // Process table data for seats
                    tableData.forEach(item => {
                        const [party, state, id] = item;
                        if (this.partyData[party] && party !== 'NA') {
                            this.partyData[party].seats++;
                        }
                    });

                    // Calculate success rates
                    Object.keys(this.partyData).forEach(party => {
                        if (this.partyData[party].candidates > 0) {
                            this.partyData[party].successRate = 
                                ((this.partyData[party].seats / this.partyData[party].candidates) * 100).toFixed(1);
                        }
                    });

                    // Calculate statistics
                    this.stats.totalSeats = tableData.length;
                    this.stats.totalCandidates = chartData.filter(item => item[3] !== 'NA').length;
                    this.stats.totalParties = Object.keys(this.partyData).filter(p => p !== 'NA').length;
                    this.stats.declaredSeats = tableData.filter(item => item[0] !== 'NA').length;
                    this.stats.declaredPercentage = ((this.stats.declaredSeats / this.stats.totalSeats) * 100).toFixed(1);

                    // Calculate alliances
                    this.calculateAlliances();

                    // Get top parties
                    this.topParties = Object.values(this.partyData)
                        .filter(p => p.party !== 'NA')
                        .sort((a, b) => b.seats - a.seats)
                        .slice(0, 10);

                    // Initialize filtered constituencies
                    this.filteredConstituencies = [...this.constituencies];
                },

                calculateAlliances() {
                    const ndaParties = ['BJP', 'JD(U)', 'LJPRV'];
                    const indiaParties = ['RJD', 'INC', 'CPI(M)', 'CPI(ML)(L)'];

                    this.alliances = {
                        nda: { seats: 0, candidates: 0, parties: {} },
                        india: { seats: 0, candidates: 0, parties: {} },
                        others: { seats: 0, candidates: 0, parties: {} }
                    };

                    Object.keys(this.partyData).forEach(party => {
                        if (party === 'NA') return;

                        const data = this.partyData[party];

                        if (ndaParties.includes(party)) {
                            this.alliances.nda.seats += data.seats;
                            this.alliances.nda.candidates += data.candidates;
                            this.alliances.nda.parties[party] = data.seats;
                        } else if (indiaParties.includes(party)) {
                            this.alliances.india.seats += data.seats;
                            this.alliances.india.candidates += data.candidates;
                            this.alliances.india.parties[party] = data.seats;
                        } else {
                            this.alliances.others.seats += data.seats;
                            this.alliances.others.candidates += data.candidates;
                        }
                    });
                },

                filterConstituencies() {
                    this.filteredConstituencies = this.constituencies.filter(c => {
                        const matchesSearch = this.searchQuery === '' || 
                            c.candidate.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                            c.id.toString().includes(this.searchQuery);
                        const matchesParty = this.filterParty === '' || c.party === this.filterParty;
                        return matchesSearch && matchesParty;
                    });
                },

                updateCharts() {
                    this.$nextTick(() => {
                        this.createPartySeatsChart();
                        this.createPartyCandidatesChart();
                    });
                },

                createPartySeatsChart() {
                    const ctx = document.getElementById('partySeatsChart');
                    if (!ctx) return;

                    const topPartiesForChart = Object.values(this.partyData)
                        .filter(p => p.party !== 'NA' && p.seats > 0)
                        .sort((a, b) => b.seats - a.seats)
                        .slice(0, 10);

                    if (this.partySeatsChart) {
                        this.partySeatsChart.destroy();
                    }

                    this.partySeatsChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: topPartiesForChart.map(p => p.party),
                            datasets: [{
                                label: 'Seats Won',
                                data: topPartiesForChart.map(p => p.seats),
                                backgroundColor: topPartiesForChart.map(p => p.color),
                                borderColor: topPartiesForChart.map(p => p.color),
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    display: false
                                },
                                title: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        precision: 0
                                    }
                                }
                            }
                        }
                    });
                },

                createPartyCandidatesChart() {
                    const ctx = document.getElementById('partyCandidatesChart');
                    if (!ctx) return;

                    const topPartiesForChart = Object.values(this.partyData)
                        .filter(p => p.party !== 'NA')
                        .sort((a, b) => b.candidates - a.candidates)
                        .slice(0, 10);

                    if (this.partyCandidatesChart) {
                        this.partyCandidatesChart.destroy();
                    }

                    this.partyCandidatesChart = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: topPartiesForChart.map(p => p.party),
                            datasets: [{
                                label: 'Candidates',
                                data: topPartiesForChart.map(p => p.candidates),
                                backgroundColor: topPartiesForChart.map(p => p.color),
                                borderWidth: 2,
                                borderColor: '#fff'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'right'
                                }
                            }
                        }
                    });
                },

                updateRefreshInterval() {
                    // Clear existing intervals
                    if (this.intervalId) clearInterval(this.intervalId);
                    if (this.countdownId) clearInterval(this.countdownId);

                    const seconds = parseInt(this.refreshInterval);

                    if (seconds > 0) {
                        this.countdown = seconds;

                        // Set up auto-refresh
                        this.intervalId = setInterval(() => {
                            this.loadData();
                            this.countdown = seconds;
                        }, seconds * 1000);

                        // Set up countdown
                        this.countdownId = setInterval(() => {
                            if (this.countdown > 0) {
                                this.countdown--;
                            } else {
                                this.countdown = seconds;
                            }
                        }, 1000);
                    }
                }
            };
        }
    </script>
</body>
</html>